---
import { Code } from 'astro:components'

/**
 * How It Works — numbered steps layout with staggered alignment.
 */
const steps = [
  {
    number: "01",
    title: "Install the package",
    description: "Add Destyler to your project with your preferred package manager. Zero config, no build plugins required.",
    code: "pnpm add @destyler-ui/vue",
    lang: "shellscript" as const,
  },
  {
    number: "02",
    title: "Import components",
    description: "Pull in exactly what you need. Every component is tree-shakable through namespace exports or direct imports.",
    code: "import { Collapse } from '@destyler-ui/vue'",
    lang: "typescript" as const,
  },
  {
    number: "03",
    title: "Style your way",
    description: "Apply your design tokens, Tailwind classes, or CSS-in-JS. The components provide behavior — you provide the look.",
    code: `<Collapse.Root>\n  <Collapse.Item value="a">\n    ...\n  </Collapse.Item>\n</Collapse.Root>`,
    lang: "vue-html" as const,
  },
];
---

<section class="py-20 px-6 md:py-28 md:px-12 lg:py-40 lg:px-16 border-b border-$sl-color-hairline overflow-visible!">
  <div class="max-w-[1200px] mx-auto overflow-visible!">
    <!-- Section header -->
    <div class="mb-16 md:mb-24">
      <p class="font-code text-xs font-semibold tracking-[0.2em] uppercase text-$sl-color-accent mb-6">GETTING STARTED</p>
      <h2 class="font-display font-bold tracking-[-0.04em] leading-[1.1] text-$sl-color-text text-[2.5rem] md:text-[3.5rem] lg:text-[4.5rem] mb-6">
        Three steps to<br />
        ship faster
      </h2>
    </div>

    <!-- Steps -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 lg:gap-10">
      {steps.map((step) => (
        <div class="group relative overflow-visible!">
          <span class="block font-display font-black text-[4rem] md:text-8xl tracking-[-0.06em] leading-[1.15] text-$sl-color-hairline mb-6 transition-colors duration-150 ease-out overflow-visible! group-hover:text-$sl-color-accent">{step.number}</span>
          <div>
            <h3 class="font-display font-bold text-xl tracking-[-0.02em] text-$sl-color-text mb-3 leading-[1.25]">{step.title}</h3>
            <p class="text-sm leading-[1.6] text-$sl-color-gray-3 tracking-[-0.01em] mb-6">{step.description}</p>
            <div class="step-code mt-4">
              <Code code={step.code} lang={step.lang} theme="vitesse-dark" />
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .step-code :global(pre) {
    font-family: var(--sl-font-mono) !important;
    font-size: 0.8125rem !important;
    line-height: 1.6 !important;
    background: var(--sl-color-gray-7) !important;
    border: 1px solid var(--sl-color-hairline) !important;
    border-radius: 0 !important;
    padding: 1rem 1.25rem !important;
    overflow-x: auto;
    margin: 0 !important;
    border-radius: 0.375rem !important;
  }

  .step-code :global(pre code) {
    font-family: inherit !important;
    background: none !important;
    padding: 0 !important;
    border: none !important;
    font-size: inherit !important;
  }
</style>
