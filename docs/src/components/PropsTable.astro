---
/**
 * PropsTable — renders a table of component props.
 *
 * Props:
 *   - props: Record<string, { type: string; isRequired: boolean; defaultValue?: string; description?: string }>
 */

interface PropInfo {
  type: string
  isRequired: boolean
  defaultValue?: string
  description?: string
}

interface Props {
  props: Record<string, PropInfo>
}

const { props } = Astro.props

const entries = Object.entries(props)

const thClass = 'text-left font-600 text-xs tracking-wider text-$sl-color-gray-3 px-3 py-2 border-b-2 border-b-solid border-b-$sl-color-hairline whitespace-nowrap'
const tdClass = 'px-3 py-2.5 border-b border-b-solid border-b-$sl-color-hairline align-top'
---

{entries.length > 0 && (
  <div class="overflow-x-auto my-4 border-solid border-[var(--sl-color-hairline)] border-px rounded-md!">
    <table class="w-full text-sm leading-normal">
      <thead>
        <tr>
          <th class={thClass}>Prop</th>
          <th class={thClass}>Default</th>
          <th class={thClass}>Type</th>
        </tr>
      </thead>
      <tbody>
        {entries.map(([name, prop]) => (
          <tr>
            <td class={tdClass}>
              <code class="font-600 text-$sl-color-text whitespace-nowrap">{name}{prop.isRequired ? <span class="text-$sl-color-accent ml-0.5 font-bold" title="Required">*</span> : ''}</code>
            </td>
            <td class={tdClass}>{prop.defaultValue ? <code>{prop.defaultValue}</code> : <span class="text-$sl-color-gray-4">—</span>}</td>
            <td class={tdClass}>
              <code class="text-$sl-color-gray-2 text-[0.8125rem] break-words">{prop.type}</code>
              {prop.description && <p class="mt-1 mb-0 text-$sl-color-gray-3 text-[0.8125rem] leading-relaxed">{prop.description}</p>}
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
)}
