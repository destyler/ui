---
/**
 * Header Search â€” custom icon-only trigger, Starlight's built-in search dialog.
 */
import Search from '@astrojs/starlight/components/Search.astro'
---

<div class="ds-header-search">
  <Search />
</div>

<style>
  .ds-header-search {
    display: contents;
  }

  /* Override Starlight's trigger button to icon-only style */
  .ds-header-search :global(button[data-open-modal]) {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    padding: 0;
    border: 1px solid transparent;
    border-radius: 0.375rem !important;
    background-color: transparent;
    color: var(--sl-color-gray-3);
    cursor: pointer;
    font-size: 1rem;
    transition: color 150ms, border-color 150ms;
    gap: 0;
    max-width: none;
  }

  .ds-header-search :global(button[data-open-modal]:hover) {
    color: var(--sl-color-text);
    border-color: var(--sl-color-hairline);
  }

  /* Hide the label text and keyboard shortcut badge */
  .ds-header-search :global(button[data-open-modal] > span),
  .ds-header-search :global(button[data-open-modal] > kbd) {
    display: none !important;
  }

  /* Keep the search icon visible */
  .ds-header-search :global(button[data-open-modal] > svg) {
    width: 1rem;
    height: 1rem;
    display: block;
  }
</style>
