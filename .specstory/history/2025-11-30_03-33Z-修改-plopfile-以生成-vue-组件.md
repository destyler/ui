<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- vscode Session 18dab555-abd2-45e1-a984-9b36053a4d49 (2025-11-30 03:33Z) -->

# 修改 plopfile 以生成 Vue 组件 (2025-11-30 03:33Z)

_**User (2025-11-30 03:52Z)**_

我想你帮我修改一下,我们如果输入 `plop vue name` 就在 packages/vue/components 下新建一个叫做name的组件,可以将 template/vue 下的目录迁移过去,然后新建一些 stories 的文件,帮我将文件修改一下,同时帮我建立一些变量

---

_**Agent (model copilot/claude-opus-4.5)**_

现在我了解了项目结构。让我来修改 `plopfile.cjs` 文件，添加一个新的 `vue` 生成器，并更新模板文件内容。 
```

```
现在更新模板文件，添加合适的内容： 现在让我们验证一下修改后的 `plopfile.cjs` 文件： 我已完成修改。现在让我来测试一下这个生成器是否工作正常： 太好了！生成器正常工作。让我检查一下生成的文件内容是否正确： 所有变量都正确替换了！现在让我删除测试生成的文件： 完成！我已经修改了 `plopfile.cjs` 并创建了相应的模板文件。现在你可以使用以下命令来生成新的 Vue 组件：

```bash
pnpm plop vue <component-name>
```

例如：`pnpm plop vue avatar` 或 `pnpm plop vue otp-input`

**修改摘要：**

1. **`plopfile.cjs`** - 添加了新的 `vue` 生成器，它会：
   - 提示输入组件名称
   - 将 `template/vue` 下的模板文件生成到 `packages/vue/src/components/<组件名>` 目录

2. **模板文件** - 更新/创建了以下模板：
   - `anatomy.ts.hbs` - 导出组件的 anatomy
   - `index.ts.hbs` - 组件的主入口文件
   - `namespace.ts.hbs` - 命名空间导出
   - `types.ts.hbs` - 类型定义
   - `stories/{{dashCase vue}}.stories.ts.hbs` - Storybook stories
   - `test/{{dashCase vue}}.test.ts.hbs` - 测试文件
   - `examples/Basic.vue.hbs` - 基础示例组件
   - `components/Root.vue.hbs` - 根组件模板
   - `composables/index.ts.hbs` - composables 入口

**可用的 Handlebars 变量：**
- `{{vue}}` - 原始输入名称
- `{{dashCase vue}}` - 短横线格式 (如 `otp-input`)
- `{{camelize vue}}` - 驼峰格式 (如 `otpInput`)
- `{{capitalize (camelize vue)}}` - 首字母大写驼峰格式 (如 `OtpInput`)
- `{{multiCapitalize vue}}` - 多词首字母大写空格分隔 (如 `Otp Input`)

---

